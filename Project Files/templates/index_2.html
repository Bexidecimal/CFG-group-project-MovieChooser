{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block page_css %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <link rel="stylesheet" href="static/css/carousel.css">

{% endblock %}

{% block content %}

    <div class="container py-5 text-center bg-light">
        <h1 class="display-3">MOVIE CHOOSER</h1>
        <p class="lead">Find your next favorite movie effortlessly!</p>
    </div>

    <!-- Search Bar Section -->

<!-- put your search word in the search bar, this is POST to the 'results' page in app.py -->
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <form method="post" action="{{ url_for('results') }}">
                    <div class="input-group">
                        <input name="search" type="text" class="form-control" placeholder="Enter Film Title">
                        <button class="btn btn-secondary" type="submit"><i class="bi bi-search"></i></button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Below is the code for the "Most Popular" carousel-->
<div class="container text-center mt-3">
      <div class=""><a class="carousel_title" href=""><h3> Most Popular </h3></a></div>

        <div class="responsive">
            {% for movie in popular_movies %}
            <div>
                <img class="image_border" src="https://image.tmdb.org/t/p/original{{ movie.poster_path }}" width="97" height="145"><br>
                <div>
                    <div class="container">
                      <div class="row h-25">
                        <div class="col column_styling "><a class="mb-0 film_title" href="">{{ movie.title }}</a></div>
                        <div class="w-100"></div>
                        <div class="col {% if movie.vote_average > 4 %} text-success {% elif movie.vote_average < 3 %} text-danger {% else %} text-warning {% endif %}">
                            Rating: {{ movie.vote_average }}
                        </div>
                      </div>
                    </div>
                </div>
            </div>
            {% endfor %}

        </div>
    </div>

    <!-- Below is the code for the "Top Rated" carousel -->
 <div class="container text-center mt-4">
      <div class=""><a class="carousel_title" href=""><h3> Top Rated </h3></a></div>

        <div class="responsive">
            {% for movie in top_rated %}
            <div>
                <img class="image_border" src="https://image.tmdb.org/t/p/original{{ movie.poster_path }}" width="97" height="145"><br>
                <div>
                    <div class="container">
                      <div class="row h-25">
                        <div class="col column_styling"><a class="mb-0 film_title" href="">{{ movie.title }}</a></div>
                        <div class="w-100"></div>
                        <div class="col {% if movie.vote_average > 4 %} text-success {% elif movie.vote_average < 3 %} text-danger {% else %} text-warning {% endif %}">Rating: {{ movie.vote_average }}</div>
                      </div>
                    </div>
                </div>
            </div>
            {% endfor %}

        </div>
    </div>

    <!-- Below is the code for the "Upcoming" carousel -->
<div class="container text-center mt-4">
      <div class=""><a class="carousel_title" href=""><h3> Upcoming </h3></a></div>

        <div class="responsive">
            {% for movie in upcoming_movies %}
            <div>
                <img class="image_border" src="https://image.tmdb.org/t/p/original{{ movie.poster_path }}" width="97" height="145"/><br>
                <div>
                    <div class="container">
                      <div class="row h-25">
                        <div class="col column_styling"><a class="mb-0 film_title" href="">{{ movie.title }} </a></div>
                        <div class="w-100"></div>
                        <div class="col {% if movie.vote_average > 4 %} text-success {% elif movie.vote_average < 3 %} text-danger {% else %} text-warning {% endif %}">Rating: {{ movie.vote_average }}</div>
                      </div>
                    </div>
                </div>
            </div>
            {% endfor %}

        </div>
    </div>



{% endblock %}


{% block page_js %}

    <script
      src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
      integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8="
      crossorigin="anonymous">

    </script>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script src="static/js/carousel.js"></script>

{% endblock %}